matches:
  - regex: "\\^(?P<content>[a-z0-9+-=]+)\\\\"
    label: "Superscript"
    replace: '{{output}}'
    vars:
      - name: output
        type: shell
        params:
          shell: wsl
          cmd: |
            bash -c "echo '$ESPANSO_CONTENT' | perl -pe '
              s/([0-9a-z])/
                  {
                      \"0\"=>\"⁰\", \"1\"=>\"¹\", \"2\"=>\"²\", \"3\"=>\"³\", \"4\"=>\"⁴\",
                      \"5\"=>\"⁵\", \"6\"=>\"⁶\", \"7\"=>\"⁷\", \"8\"=>\"⁸\", \"9\"=>\"⁹\",
                      \"a\"=>\"ᵃ\", \"b\"=>\"ᵇ\", \"c\"=>\"ᶜ\", \"d\"=>\"ᵈ\", \"e\"=>\"ᵉ\",
                      \"f\"=>\"ᶠ\", \"g\"=>\"ᵍ\", \"h\"=>\"ʰ\", \"i\"=>\"ⁱ\", \"j\"=>\"ʲ\",
                      \"k\"=>\"ᵏ\", \"l\"=>\"ˡ\", \"m\"=>\"ᵐ\", \"n\"=>\"ⁿ\", \"o\"=>\"ᵒ\",
                      \"p\"=>\"ᵖ\", \"r\"=>\"ʳ\", \"s\"=>\"ˢ\", \"t\"=>\"ᵗ\", \"u\"=>\"ᵘ\",
                      \"v\"=>\"ᵛ\", \"w\"=>\"ʷ\", \"x\"=>\"ˣ\", \"y\"=>\"ʸ\", \"z\"=>\"ᶻ\",
                      \"+\"=>\"⁺\", \"-\"=>\"⁻\", \"=\"=>\"⁼\"
                  }->{`echo \\\\$`1} || `echo \\\\$`1
              /ge
            '"
  - regex: "_(?P<content>[a-z0-9]+)\\\\"
    label: "Subscript"
    replace: '{{output}}'
    vars:
      - name: output
        type: shell
        params:
          shell: wsl
          cmd: |
            bash -c "echo '$ESPANSO_CONTENT' | perl -pe '
              s/([0-9a-z])/
                  {
                      \"0\"=>\"₀\", \"1\"=>\"₁\", \"2\"=>\"₂\", \"3\"=>\"₃\", \"4\"=>\"₄\",
                      \"5\"=>\"₅\", \"6\"=>\"₆\", \"7\"=>\"₇\", \"8\"=>\"₈\", \"9\"=>\"₉\",
                      \"a\"=>\"ₐ\", \"e\"=>\"ₑ\", \"h\"=>\"ₕ\", \"i\"=>\"ᵢ\", \"j\"=>\"ⱼ\",
                      \"k\"=>\"ₖ\", \"l\"=>\"ₗ\", \"m\"=>\"ₘ\", \"n\"=>\"ₙ\", \"o\"=>\"ₒ\",
                      \"p\"=>\"ₚ\", \"r\"=>\"ᵣ\", \"s\"=>\"ₛ\", \"t\"=>\"ₜ\", \"u\"=>\"ᵤ\",
                      \"v\"=>\"ᵥ\", \"x\"=>\"ₓ\", \"+\"=>\"₊\", \"-\"=>\"₋\", \"=\"=>\"₌\"
                  }->{`echo \\\\$`1} || `echo \\\\$`1
              /ge
            '"
